const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pc4zWnwi.js","./D7cpsnGe.js","./entry.CzApbCZM.css","./Bl8RbVId.js","./bbk7a-re.js"])))=>i.map(i=>d[i]);
import{aX as it,aY as st,b as ot}from"#entry";import{t as ut,f as at}from"./Bl8RbVId.js";function ct(r){return{type:"root",children:r.value.map(K)}}function K(r){if(typeof r=="string")return{type:"text",value:r};const[d,i,...u]=r;return{type:"element",tag:d,props:i,children:u.map(K)}}var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var B={exports:{}},ft=B.exports,z;function ht(){return z||(z=1,(function(r,d){(function(i,u){r.exports=u()})(ft,(function(){var i=1e3,u=6e4,h=36e5,s="millisecond",c="second",m="minute",v="hour",g="day",N="week",M="month",O="quarter",T="year",W="date",G="Invalid Date",tt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,et=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,nt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var n=["th","st","nd","rd"],t=a%100;return"["+a+(n[(t-20)%10]||n[t]||n[0])+"]"}},P=function(a,n,t){var o=String(a);return!o||o.length>=n?a:""+Array(n+1-o.length).join(t)+a},rt={s:P,z:function(a){var n=-a.utcOffset(),t=Math.abs(n),o=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+P(o,2,"0")+":"+P(e,2,"0")},m:function a(n,t){if(n.date()<t.date())return-a(t,n);var o=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(o,M),l=t-e<0,f=n.clone().add(o+(l?-1:1),M);return+(-(o+(t-e)/(l?e-f:f-e))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M,y:T,w:N,d:g,D:W,h:v,m,s:c,ms:s,Q:O}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},I="en",C={};C[I]=nt;var J="$isDayjsObject",Q=function(a){return a instanceof F||!(!a||!a[J])},Y=function a(n,t,o){var e;if(!n)return I;if(typeof n=="string"){var l=n.toLowerCase();C[l]&&(e=l),t&&(C[l]=t,e=l);var f=n.split("-");if(!e&&f.length>1)return a(f[0])}else{var y=n.name;C[y]=n,e=y}return!o&&e&&(I=e),e||!o&&I},S=function(a,n){if(Q(a))return a.clone();var t=typeof n=="object"?n:{};return t.date=a,t.args=arguments,new F(t)},$=rt;$.l=Y,$.i=Q,$.w=function(a,n){return S(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var F=(function(){function a(t){this.$L=Y(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[J]=!0}var n=a.prototype;return n.parse=function(t){this.$d=(function(o){var e=o.date,l=o.utc;if(e===null)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var f=e.match(tt);if(f){var y=f[2]-1||0,p=(f[7]||"0").substring(0,3);return l?new Date(Date.UTC(f[1],y,f[3]||1,f[4]||0,f[5]||0,f[6]||0,p)):new Date(f[1],y,f[3]||1,f[4]||0,f[5]||0,f[6]||0,p)}}return new Date(e)})(t),this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return $},n.isValid=function(){return this.$d.toString()!==G},n.isSame=function(t,o){var e=S(t);return this.startOf(o)<=e&&e<=this.endOf(o)},n.isAfter=function(t,o){return S(t)<this.startOf(o)},n.isBefore=function(t,o){return this.endOf(o)<S(t)},n.$g=function(t,o,e){return $.u(t)?this[o]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,o){var e=this,l=!!$.u(o)||o,f=$.p(t),y=function(E,b){var x=$.w(e.$u?Date.UTC(e.$y,b,E):new Date(e.$y,b,E),e);return l?x:x.endOf(g)},p=function(E,b){return $.w(e.toDate()[E].apply(e.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(b)),e)},w=this.$W,D=this.$M,_=this.$D,k="set"+(this.$u?"UTC":"");switch(f){case T:return l?y(1,0):y(31,11);case M:return l?y(1,D):y(0,D+1);case N:var A=this.$locale().weekStart||0,L=(w<A?w+7:w)-A;return y(l?_-L:_+(6-L),D);case g:case W:return p(k+"Hours",0);case v:return p(k+"Minutes",1);case m:return p(k+"Seconds",2);case c:return p(k+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,o){var e,l=$.p(t),f="set"+(this.$u?"UTC":""),y=(e={},e[g]=f+"Date",e[W]=f+"Date",e[M]=f+"Month",e[T]=f+"FullYear",e[v]=f+"Hours",e[m]=f+"Minutes",e[c]=f+"Seconds",e[s]=f+"Milliseconds",e)[l],p=l===g?this.$D+(o-this.$W):o;if(l===M||l===T){var w=this.clone().set(W,1);w.$d[y](p),w.init(),this.$d=w.set(W,Math.min(this.$D,w.daysInMonth())).$d}else y&&this.$d[y](p);return this.init(),this},n.set=function(t,o){return this.clone().$set(t,o)},n.get=function(t){return this[$.p(t)]()},n.add=function(t,o){var e,l=this;t=Number(t);var f=$.p(o),y=function(D){var _=S(l);return $.w(_.date(_.date()+Math.round(D*t)),l)};if(f===M)return this.set(M,this.$M+t);if(f===T)return this.set(T,this.$y+t);if(f===g)return y(1);if(f===N)return y(7);var p=(e={},e[m]=u,e[v]=h,e[c]=i,e)[f]||1,w=this.$d.getTime()+t*p;return $.w(w,this)},n.subtract=function(t,o){return this.add(-1*t,o)},n.format=function(t){var o=this,e=this.$locale();if(!this.isValid())return e.invalidDate||G;var l=t||"YYYY-MM-DDTHH:mm:ssZ",f=$.z(this),y=this.$H,p=this.$m,w=this.$M,D=e.weekdays,_=e.months,k=e.meridiem,A=function(b,x,H,U){return b&&(b[x]||b(o,l))||H[x].slice(0,U)},L=function(b){return $.s(y%12||12,b,"0")},E=k||function(b,x,H){var U=b<12?"AM":"PM";return H?U.toLowerCase():U};return l.replace(et,(function(b,x){return x||(function(H){switch(H){case"YY":return String(o.$y).slice(-2);case"YYYY":return $.s(o.$y,4,"0");case"M":return w+1;case"MM":return $.s(w+1,2,"0");case"MMM":return A(e.monthsShort,w,_,3);case"MMMM":return A(_,w);case"D":return o.$D;case"DD":return $.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return A(e.weekdaysMin,o.$W,D,2);case"ddd":return A(e.weekdaysShort,o.$W,D,3);case"dddd":return D[o.$W];case"H":return String(y);case"HH":return $.s(y,2,"0");case"h":return L(1);case"hh":return L(2);case"a":return E(y,p,!0);case"A":return E(y,p,!1);case"m":return String(p);case"mm":return $.s(p,2,"0");case"s":return String(o.$s);case"ss":return $.s(o.$s,2,"0");case"SSS":return $.s(o.$ms,3,"0");case"Z":return f}return null})(b)||f.replace(":","")}))},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,o,e){var l,f=this,y=$.p(o),p=S(t),w=(p.utcOffset()-this.utcOffset())*u,D=this-p,_=function(){return $.m(f,p)};switch(y){case T:l=_()/12;break;case M:l=_();break;case O:l=_()/3;break;case N:l=(D-w)/6048e5;break;case g:l=(D-w)/864e5;break;case v:l=D/h;break;case m:l=D/u;break;case c:l=D/i;break;default:l=D}return e?l:$.a(l)},n.daysInMonth=function(){return this.endOf(M).$D},n.$locale=function(){return C[this.$L]},n.locale=function(t,o){if(!t)return this.$L;var e=this.clone(),l=Y(t,o,!0);return l&&(e.$L=l),e},n.clone=function(){return $.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a})(),Z=F.prototype;return S.prototype=Z,[["$ms",s],["$s",c],["$m",m],["$H",v],["$W",g],["$M",M],["$y",T],["$D",W]].forEach((function(a){Z[a[1]]=function(n){return this.$g(n,a[0],a[1])}})),S.extend=function(a,n){return a.$i||(a(n,F,S),a.$i=!0),S},S.locale=Y,S.isDayjs=Q,S.unix=function(a){return S(1e3*a)},S.en=C[I],S.Ls=C,S.p={},S}))})(B)),B.exports}var dt=ht();const _t=lt(dt),q=(r,d)=>{const i=r._conditions;return i.length>0?`(${i.join(` ${d} `)})`:""},R=r=>{const d=[],i={_conditions:d,where(u,h,s){let c;switch(h.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(s)){const m=s.map(v=>j(v)).join(", ");c=`"${String(u)}" ${h.toUpperCase()} (${m})`}else throw new TypeError(`Value for ${h} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(s)&&s.length===2)c=`"${String(u)}" ${h.toUpperCase()} ${j(s[0])} AND ${j(s[1])}`;else throw new Error(`Value for ${h} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":c=`"${String(u)}" ${h.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":c=`"${String(u)}" ${h.toUpperCase()} ${j(s)}`;break;default:c=`"${String(u)}" ${h} ${j(typeof s=="boolean"?Number(s):s)}`}return d.push(`${c}`),i},andWhere(u){const h=u(R());return d.push(q(h,"AND")),i},orWhere(u){const h=u(R());return d.push(q(h,"OR")),i}};return i},$t=(r,d)=>{const i={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},u={__params:i,andWhere(s){const c=s(R());return i.conditions.push(q(c,"AND")),u},orWhere(s){const c=s(R());return i.conditions.push(q(c,"OR")),u},path(s){return u.where("path","=",it(s))},skip(s){return i.offset=s,u},where(s,c,m){return u.andWhere(v=>v.where(String(s),c,m)),u},limit(s){return i.limit=s,u},select(...s){return s.length&&i.selectedFields.push(...s),u},order(s,c){return i.orderBy.push(`"${String(s)}" ${c}`),u},async all(){return d(r,h()).then(s=>s||[])},async first(){return d(r,h({limit:1})).then(s=>s[0]||null)},async count(s="*",c=!1){return d(r,h({count:{field:String(s),distinct:c}})).then(m=>m[0].count)}};function h(s={}){let c="SELECT ";if(s?.count)c+=`COUNT(${s.count.distinct?"DISTINCT ":""}${s.count.field}) as count`;else{const v=Array.from(new Set(i.selectedFields));c+=v.length>0?v.map(g=>`"${String(g)}"`).join(", "):"*"}c+=` FROM ${ut[String(r)]}`,i.conditions.length>0&&(c+=` WHERE ${i.conditions.join(" AND ")}`),i.orderBy.length>0?c+=` ORDER BY ${i.orderBy.join(", ")}`:c+=" ORDER BY stem ASC";const m=s?.limit||i.limit;return m>0&&(i.offset>0?c+=` LIMIT ${m} OFFSET ${i.offset}`:c+=` LIMIT ${m}`),c}return u};function j(r){return`'${String(r).replace(/'/g,"''")}'`}function yt(r){return d=>(d=d||{},(r||[]).filter(i=>typeof d[i]<"u").reduce((i,u)=>Object.assign(i,{[u]:d[u]}),{}))}const X=/^h([1-6])$/,mt=r=>X.test(r);async function pt(r,d){const{ignoredTags:i=[],extraFields:u=[]}={};return(await r.where("extension","=","md").select("path","body","description","title",...u||[]).all()).flatMap(s=>gt(s,{ignoredTags:i,extraFields:u}))}function gt(r,{ignoredTags:d,extraFields:i}){const u=!r.body||r.body?.type==="root"?r.body:ct(r.body),h=r.path??"",s=yt(i)(r),c=[{...s,id:h,title:r.title||"",titles:[],content:(r.description||"").trim(),level:1}];if(!u?.children)return c;let m=1,v=0;const g=[r.title??""];for(const N of u.children){const M=N.tag||"";if(mt(M)){const O=Number(M.match(X)?.[1]??0),T=V(N).trim();O===1?g.splice(0,g.length):O<v?g.splice(O-1,g.length-1):O===v&&g.pop(),c.push({...s,id:`${h}#${N.props?.id}`,title:T,titles:[...g],content:"",level:O}),g.push(T),v=O,m+=1}else{const O=V(N,d).trim();if(m===1&&c[m-1]?.content===O)continue;c[m-1].content=`${c[m-1].content} ${O}`.trim()}}return c}function V(r,d=[]){let i="";return r.type==="text"&&(i+=r.value||""),d.includes(r.tag??"")?"":(r.children?.length&&(i+=r.children.map(u=>V(u,d)).filter(Boolean).join("")),i)}const St=r=>{const d=st()?.ssrContext?.event;return $t(r,(i,u)=>wt(d,i,u))};function Tt(r,d){return Dt(r,i=>pt(i))}async function wt(r,d,i){return window.WebAssembly?vt(d,i):at(r,String(d),i)}async function vt(r,d){return await ot(()=>import("./pc4zWnwi.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(u=>u.loadDatabaseAdapter(r)).then(u=>u.all(d))}function Dt(r,d){const i=St(r),u={where(h,s,c){return i.where(String(h),s,c),u},andWhere(h){return i.andWhere(h),u},orWhere(h){return i.orWhere(h),u},order(h,s){return i.order(String(h),s),u},then(h,s){return d(i).then(h,s)},catch(h){return this.then(void 0,h)},finally(h){return this.then(void 0,void 0).finally(h)},get[Symbol.toStringTag](){return"Promise"}};return u}export{Tt as a,Ot as c,_t as d,lt as g,St as q,ct as t};
