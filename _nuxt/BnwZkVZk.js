const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DbSmV7-_.js","./K_HPnlv_.js","./entry.D7GWj89T.css","./CPODJtcS.js","./2kTF2oE7.js"])))=>i.map(i=>d[i]);
import{g as it}from"./Cpj98o6Y.js";import{b4 as st,b5 as ut,b as ot}from"#entry";import{t as at,f as ct}from"./CPODJtcS.js";function ft(o){return{type:"root",children:o.value.map(K)}}function K(o){if(typeof o=="string")return{type:"text",value:o};const[d,r,...u]=o;return{type:"element",tag:d,props:r,children:u.map(K)}}var B={exports:{}},lt=B.exports,G;function ht(){return G||(G=1,(function(o,d){(function(r,u){o.exports=u()})(lt,(function(){var r=1e3,u=6e4,h=36e5,i="millisecond",c="second",y="minute",D="hour",g="day",x="week",w="month",O="quarter",T="year",W="date",J="Invalid Date",tt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,et=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,nt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var n=["th","st","nd","rd"],t=a%100;return"["+a+(n[(t-20)%10]||n[t]||n[0])+"]"}},Q=function(a,n,t){var s=String(a);return!s||s.length>=n?a:""+Array(n+1-s.length).join(t)+a},rt={s:Q,z:function(a){var n=-a.utcOffset(),t=Math.abs(n),s=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+Q(s,2,"0")+":"+Q(e,2,"0")},m:function a(n,t){if(n.date()<t.date())return-a(t,n);var s=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(s,w),f=t-e<0,l=n.clone().add(s+(f?-1:1),w);return+(-(s+(t-e)/(f?e-l:l-e))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:w,y:T,w:x,d:g,D:W,h:D,m:y,s:c,ms:i,Q:O}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},I="en",C={};C[I]=nt;var Z="$isDayjsObject",P=function(a){return a instanceof F||!(!a||!a[Z])},Y=function a(n,t,s){var e;if(!n)return I;if(typeof n=="string"){var f=n.toLowerCase();C[f]&&(e=f),t&&(C[f]=t,e=f);var l=n.split("-");if(!e&&l.length>1)return a(l[0])}else{var m=n.name;C[m]=n,e=m}return!s&&e&&(I=e),e||!s&&I},S=function(a,n){if(P(a))return a.clone();var t=typeof n=="object"?n:{};return t.date=a,t.args=arguments,new F(t)},$=rt;$.l=Y,$.i=P,$.w=function(a,n){return S(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var F=(function(){function a(t){this.$L=Y(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[Z]=!0}var n=a.prototype;return n.parse=function(t){this.$d=(function(s){var e=s.date,f=s.utc;if(e===null)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var l=e.match(tt);if(l){var m=l[2]-1||0,p=(l[7]||"0").substring(0,3);return f?new Date(Date.UTC(l[1],m,l[3]||1,l[4]||0,l[5]||0,l[6]||0,p)):new Date(l[1],m,l[3]||1,l[4]||0,l[5]||0,l[6]||0,p)}}return new Date(e)})(t),this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return $},n.isValid=function(){return this.$d.toString()!==J},n.isSame=function(t,s){var e=S(t);return this.startOf(s)<=e&&e<=this.endOf(s)},n.isAfter=function(t,s){return S(t)<this.startOf(s)},n.isBefore=function(t,s){return this.endOf(s)<S(t)},n.$g=function(t,s,e){return $.u(t)?this[s]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,s){var e=this,f=!!$.u(s)||s,l=$.p(t),m=function(E,b){var N=$.w(e.$u?Date.UTC(e.$y,b,E):new Date(e.$y,b,E),e);return f?N:N.endOf(g)},p=function(E,b){return $.w(e.toDate()[E].apply(e.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(b)),e)},v=this.$W,M=this.$M,_=this.$D,k="set"+(this.$u?"UTC":"");switch(l){case T:return f?m(1,0):m(31,11);case w:return f?m(1,M):m(0,M+1);case x:var A=this.$locale().weekStart||0,L=(v<A?v+7:v)-A;return m(f?_-L:_+(6-L),M);case g:case W:return p(k+"Hours",0);case D:return p(k+"Minutes",1);case y:return p(k+"Seconds",2);case c:return p(k+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,s){var e,f=$.p(t),l="set"+(this.$u?"UTC":""),m=(e={},e[g]=l+"Date",e[W]=l+"Date",e[w]=l+"Month",e[T]=l+"FullYear",e[D]=l+"Hours",e[y]=l+"Minutes",e[c]=l+"Seconds",e[i]=l+"Milliseconds",e)[f],p=f===g?this.$D+(s-this.$W):s;if(f===w||f===T){var v=this.clone().set(W,1);v.$d[m](p),v.init(),this.$d=v.set(W,Math.min(this.$D,v.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},n.set=function(t,s){return this.clone().$set(t,s)},n.get=function(t){return this[$.p(t)]()},n.add=function(t,s){var e,f=this;t=Number(t);var l=$.p(s),m=function(M){var _=S(f);return $.w(_.date(_.date()+Math.round(M*t)),f)};if(l===w)return this.set(w,this.$M+t);if(l===T)return this.set(T,this.$y+t);if(l===g)return m(1);if(l===x)return m(7);var p=(e={},e[y]=u,e[D]=h,e[c]=r,e)[l]||1,v=this.$d.getTime()+t*p;return $.w(v,this)},n.subtract=function(t,s){return this.add(-1*t,s)},n.format=function(t){var s=this,e=this.$locale();if(!this.isValid())return e.invalidDate||J;var f=t||"YYYY-MM-DDTHH:mm:ssZ",l=$.z(this),m=this.$H,p=this.$m,v=this.$M,M=e.weekdays,_=e.months,k=e.meridiem,A=function(b,N,H,U){return b&&(b[N]||b(s,f))||H[N].slice(0,U)},L=function(b){return $.s(m%12||12,b,"0")},E=k||function(b,N,H){var U=b<12?"AM":"PM";return H?U.toLowerCase():U};return f.replace(et,(function(b,N){return N||(function(H){switch(H){case"YY":return String(s.$y).slice(-2);case"YYYY":return $.s(s.$y,4,"0");case"M":return v+1;case"MM":return $.s(v+1,2,"0");case"MMM":return A(e.monthsShort,v,_,3);case"MMMM":return A(_,v);case"D":return s.$D;case"DD":return $.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return A(e.weekdaysMin,s.$W,M,2);case"ddd":return A(e.weekdaysShort,s.$W,M,3);case"dddd":return M[s.$W];case"H":return String(m);case"HH":return $.s(m,2,"0");case"h":return L(1);case"hh":return L(2);case"a":return E(m,p,!0);case"A":return E(m,p,!1);case"m":return String(p);case"mm":return $.s(p,2,"0");case"s":return String(s.$s);case"ss":return $.s(s.$s,2,"0");case"SSS":return $.s(s.$ms,3,"0");case"Z":return l}return null})(b)||l.replace(":","")}))},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,s,e){var f,l=this,m=$.p(s),p=S(t),v=(p.utcOffset()-this.utcOffset())*u,M=this-p,_=function(){return $.m(l,p)};switch(m){case T:f=_()/12;break;case w:f=_();break;case O:f=_()/3;break;case x:f=(M-v)/6048e5;break;case g:f=(M-v)/864e5;break;case D:f=M/h;break;case y:f=M/u;break;case c:f=M/r;break;default:f=M}return e?f:$.a(f)},n.daysInMonth=function(){return this.endOf(w).$D},n.$locale=function(){return C[this.$L]},n.locale=function(t,s){if(!t)return this.$L;var e=this.clone(),f=Y(t,s,!0);return f&&(e.$L=f),e},n.clone=function(){return $.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a})(),z=F.prototype;return S.prototype=z,[["$ms",i],["$s",c],["$m",y],["$H",D],["$W",g],["$M",w],["$y",T],["$D",W]].forEach((function(a){z[a[1]]=function(n){return this.$g(n,a[0],a[1])}})),S.extend=function(a,n){return a.$i||(a(n,F,S),a.$i=!0),S},S.locale=Y,S.isDayjs=P,S.unix=function(a){return S(1e3*a)},S.en=C[I],S.Ls=C,S.p={},S}))})(B)),B.exports}var dt=ht();const _t=it(dt),q=(o,d)=>{const r=o._conditions;return r.length>0?`(${r.join(` ${d} `)})`:""},R=o=>{const d=[],r={_conditions:d,where(u,h,i){let c;switch(h.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(i)){const y=i.map(D=>j(D)).join(", ");c=`"${String(u)}" ${h.toUpperCase()} (${y})`}else throw new TypeError(`Value for ${h} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(i)&&i.length===2)c=`"${String(u)}" ${h.toUpperCase()} ${j(i[0])} AND ${j(i[1])}`;else throw new Error(`Value for ${h} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":c=`"${String(u)}" ${h.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":c=`"${String(u)}" ${h.toUpperCase()} ${j(i)}`;break;default:c=`"${String(u)}" ${h} ${j(typeof i=="boolean"?Number(i):i)}`}return d.push(`${c}`),r},andWhere(u){const h=u(R());return d.push(q(h,"AND")),r},orWhere(u){const h=u(R());return d.push(q(h,"OR")),r}};return r},$t=(o,d)=>{const r={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},u={__params:r,andWhere(i){const c=i(R());return r.conditions.push(q(c,"AND")),u},orWhere(i){const c=i(R());return r.conditions.push(q(c,"OR")),u},path(i){return u.where("path","=",st(i))},skip(i){return r.offset=i,u},where(i,c,y){return u.andWhere(D=>D.where(String(i),c,y)),u},limit(i){return r.limit=i,u},select(...i){return i.length&&r.selectedFields.push(...i),u},order(i,c){return r.orderBy.push(`"${String(i)}" ${c}`),u},async all(){return d(o,h()).then(i=>i||[])},async first(){return d(o,h({limit:1})).then(i=>i[0]||null)},async count(i="*",c=!1){return d(o,h({count:{field:String(i),distinct:c}})).then(y=>y[0].count)}};function h(i={}){let c="SELECT ";if(i?.count)c+=`COUNT(${i.count.distinct?"DISTINCT ":""}${i.count.field}) as count`;else{const D=Array.from(new Set(r.selectedFields));c+=D.length>0?D.map(g=>`"${String(g)}"`).join(", "):"*"}c+=` FROM ${at[String(o)]}`,r.conditions.length>0&&(c+=` WHERE ${r.conditions.join(" AND ")}`),r.orderBy.length>0?c+=` ORDER BY ${r.orderBy.join(", ")}`:c+=" ORDER BY stem ASC";const y=i?.limit||r.limit;return y>0&&(r.offset>0?c+=` LIMIT ${y} OFFSET ${r.offset}`:c+=` LIMIT ${y}`),c}return u};function j(o){return`'${String(o).replace(/'/g,"''")}'`}function mt(o){return d=>(d=d||{},(o||[]).filter(r=>typeof d[r]<"u").reduce((r,u)=>Object.assign(r,{[u]:d[u]}),{}))}const X=/^h([1-6])$/,yt=o=>X.test(o);async function pt(o,d){const{ignoredTags:r=[],extraFields:u=[]}={};return(await o.where("extension","=","md").select("path","body","description","title",...u||[]).all()).flatMap(i=>gt(i,{ignoredTags:r,extraFields:u}))}function gt(o,{ignoredTags:d,extraFields:r}){const u=!o.body||o.body?.type==="root"?o.body:ft(o.body),h=o.path??"",i=mt(r)(o),c=[{...i,id:h,title:o.title||"",titles:[],content:(o.description||"").trim(),level:1}];if(!u?.children)return c;let y=1,D=0;const g=[o.title??""];for(const x of u.children){const w=x.tag||"";if(yt(w)){const O=Number(w.match(X)?.[1]??0),T=V(x).trim();O===1?g.splice(0,g.length):O<D?g.splice(O-1,g.length-1):O===D&&g.pop(),c.push({...i,id:`${h}#${x.props?.id}`,title:T,titles:[...g],content:"",level:O}),g.push(T),D=O,y+=1}else{const O=V(x,d).trim();if(y===1&&c[y-1]?.content===O)continue;c[y-1].content=`${c[y-1].content} ${O}`.trim()}}return c}function V(o,d=[]){let r="";return o.type==="text"&&(r+=o.value||""),d.includes(o.tag??"")?"":(o.children?.length&&(r+=o.children.map(u=>V(u,d)).filter(Boolean).join("")),r)}const St=o=>{const d=ut()?.ssrContext?.event;return $t(o,(r,u)=>vt(d,r,u))};function Tt(o,d){return Mt(o,r=>pt(r))}async function vt(o,d,r){return window.WebAssembly?Dt(d,r):ct(o,String(d),r)}async function Dt(o,d){return await ot(()=>import("./DbSmV7-_.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(u=>u.loadDatabaseAdapter(o)).then(u=>u.all(d))}function Mt(o,d){const r=St(o),u={where(h,i,c){return r.where(String(h),i,c),u},andWhere(h){return r.andWhere(h),u},orWhere(h){return r.orWhere(h),u},order(h,i){return r.order(String(h),i),u},then(h,i){return d(r).then(h,i)},catch(h){return this.then(void 0,h)},finally(h){return this.then(void 0,void 0).finally(h)},get[Symbol.toStringTag](){return"Promise"}};return u}export{Tt as a,_t as d,St as q,ft as t};
