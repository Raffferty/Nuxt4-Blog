const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DO02hT2D.js","./Cpj98o6Y.js","./CjnjHfhJ.js"])))=>i.map(i=>d[i]);
import{D as b,r as V,o as M,b as v,d as g,e as k,f as T,h as x,g as i,C,Y as B,J as E,w as c,A as u,M as I,H as Z}from"#entry";import{_ as $}from"./DNhnBeK2.js";import{_ as O}from"./2kTF2oE7.js";import"./BDKubcXP.js";const N={key:0,class:"absolute bottom-0 right-[50%] translate-x-[50%] p-4 flex items-center gap-1 z-[1000]"},P=["id"],R=b({__name:"map_view",props:{mapId:{},width:{default:"100%"},height:{default:"100%"},center:{default:[41.89025458379308,12.492188020193412]},zoom:{default:6},controls:{type:Boolean,default:!0},markers:{},cluster:{type:Boolean,default:!0}},emits:["ready"],setup(l,{emit:m}){var n,t;const a=V(!1),p=m,o=l;function f(){t?.setZoom(t.getZoom()+1)}function _(){t?.setZoom(t.getZoom()-1)}async function h(){p("ready",n,t),a.value=!0}function w(s=!0){if(o.markers&&o.markers.length>0){var r=n.latLngBounds(o.markers?.map(e=>n.latLng(e.coords[0],e.coords[1])));t?.fitBounds(r,{padding:[48,48],maxZoom:14,animate:s})}else t?.setView(o.center,o.zoom)}function L(){const s=n.markerClusterGroup(),r=[];console.log(o.markers),(o.markers??[]).forEach(e=>{const z=e.options??{};var y=n.marker(e.coords,{title:e.id,...z});if(e.popup){const d=n.DomUtil.create("div","w-full h-full");e.onClick!==void 0&&(d.classList.add("cursor-pointer"),d.addEventListener("click",e.onClick)),d.innerHTML=e.popup,y.bindPopup(d)}o.cluster?s.addLayer(y):r.push(y)}),o.cluster&&r.push(s),r.forEach(e=>t?.addLayer(e))}return M(async()=>{n=(await v(async()=>{const{default:s}=await import("./DO02hT2D.js").then(r=>r.l);return{default:s}},__vite__mapDeps([0,1]),import.meta.url)).default,await v(()=>import("./CjnjHfhJ.js").then(s=>s.l),__vite__mapDeps([2,1]),import.meta.url),t=n.map(o.mapId,{worldCopyJump:!0,minZoom:3,zoomControl:!1}).setView(o.center,o.zoom).whenReady(h),n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'<a href="https://www.openstreetmap.org/copyright" target="__blank">OpenStreetMap</a> contributors'}).addTo(t),L(),w(!1)}),(s,r)=>{const e=C;return k(),g("div",{style:B({height:l.height,width:l.width}),class:"relative overflow-clip rounded-lg"},[l.controls?(k(),g("div",N,[i(e,{onClick:_,title:"Zoom out",variant:"soft",size:"sm",color:"neutral",icon:"material-symbols:remove-rounded"}),i(e,{onClick:f,title:"Zoom in",variant:"soft",size:"sm",color:"neutral",icon:"material-symbols:add-rounded"}),i(e,{onClick:r[0]||(r[0]=()=>w()),title:"Center view",variant:"soft",size:"sm",color:"neutral",icon:"material-symbols:center-focus-weak-outline"})])):T("",!0),x("div",{id:l.mapId,style:{height:"100%",width:"100%"}},null,8,P)],4)}}}),j=Object.assign(R,{__name:"MapView"}),D={class:"w-full flex flex-col gap-4 items-stretch mt-4"},A={class:"flex justify-between gap-4 w-full items-center flex-wrap"},U=b({__name:"leaflet",setup(l){const m=[{id:"Latina",coords:[41.46149509205332,12.900105245304635]},{id:"Roma",coords:[41.89666989303321,12.485015662922642]},{id:"Firenze",coords:[43.76446283660515,11.259645031818566]},{id:"Trento",coords:[46.06179875887721,11.109413237251811]},{id:"Parma",coords:[44.80493293802878,10.320182049683936]}],n=E(()=>m.map(t=>({id:t.id,coords:t.coords,popup:`<p class="text-center" onclick="alert('Ugly dangerous HTML executed!');">${t.id}</p>`,onClick(a){console.log(a.target)}})));return(t,a)=>{const p=I,o=$,f=C,_=j,h=O;return k(),g("div",D,[x("div",A,[i(o,null,{label:c(()=>[a[1]||(a[1]=u(" In this tutorial we natively integrated ",-1)),i(p,{to:"https://leafletjs.com/",target:"_blank"},{default:c(()=>[...a[0]||(a[0]=[u("Leaflet",-1)])]),_:1}),a[2]||(a[2]=u(" into Nuxt. ",-1))]),description:c(()=>[...a[3]||(a[3]=[u("The map is rendered client side only and the Leaflet module is dynamically imported. Check out the YouTube video for more details.",-1)])]),_:1}),i(f,{label:"Check out the video",icon:"logos:youtube-icon",color:"neutral",to:"https://youtu.be/B24nLqwWzKI",target:"_blank"})]),i(h,null,{default:c(()=>[i(_,{"map-id":"default-id",height:"50svh",width:"100%",markers:Z(n)},null,8,["markers"])]),_:1})])}}});export{U as default};
